<?xml version="1.0"?>
<config>
  <modules>
    <Zealousweb_WhoAlsoView>
      <version>0.1.0</version>
    </Zealousweb_WhoAlsoView>
  </modules>
  <global>
    <helpers>
      <whoalsoview>
        <class>Zealousweb_WhoAlsoView_Helper</class>
      </whoalsoview>
    </helpers>
	<blocks>
	  <whoalsoview>
		<class>Zealousweb_WhoAlsoView_Block</class>
	  </whoalsoview>
	</blocks>
    <catalog>
		<rewrite>
			<product_view>Zealousweb_WhoAlsoView_Block_Whoalsoview</product_view>
		</rewrite>
	</catalog>
	<models>
	  <whoalsoview>
		<class>Zealousweb_WhoAlsoView_Model</class>
		<resourceModel>whoalsoview_mysql4</resourceModel>
	  </whoalsoview>
	  <whoalsoview_mysql4>
		<class>Zealousweb_WhoAlsoView_Model_Mysql4</class>
		<entities>		  
			  <whoalsoview>
				<table>who_also_view</table>
			  </whoalsoview>
        </entities>
	  </whoalsoview_mysql4>
	</models>
	<resources>
	  <whoalsoview_setup>
		<setup>
		  <module>Zealousweb_WhoAlsoView</module>
		</setup>
		<connection>
		  <use>core_setup</use>
		</connection>
	  </whoalsoview_setup>
	  <whoalsoview_write>
		<connection>
		  <use>core_write</use>
		</connection>
	  </whoalsoview_write>
	  <whoalsoview_read>
		<connection>
		  <use>core_read</use>
		</connection>
	  </whoalsoview_read>
	</resources>
    <events>
        <sales_order_place_before>
	  
        <observers>
          <catalog_controller_product_view_handler> 
            <type>model</type> 
            <class>whoalsoview/observer</class> 
            <method>WhoAlsoView</method>  
            <args></args> 
          </catalog_controller_product_view_handler>
        </observers>
        </sales_order_place_before>
      
    </events>
  </global>
  <admin>
        <routers>
            <adminhtml>
                <args>
                    <!-- This is how we load our Adminhtml controllers -->
                    <modules>
                        <Zealousweb_WhoAlsoView before="Mage_Adminhtml">Zealousweb_WhoAlsoView_Adminhtml</Zealousweb_WhoAlsoView>
                    </modules>
                </args>
            </adminhtml>
        </routers>
    </admin>
    <adminhtml>
        <layout>
            <updates>
                <zealousweb_whoAlsoView>
                    <!--
                    We again keep a nice naming convention and make our module upgrade proof by placing it in a separate folder
                    - Since we are in the adminhtml node, this will look for the XML file in the app/design/adminhtml/default/default root folder
                    -->
                    <file>whoalsoview/whoalsoview.xml</file>
                </zealousweb_whoAlsoView>
            </updates>
        </layout>
        <events>
            <catalog_product_save_before>
                <observers>
                    <automatic_upsell>
                        <class>whoalsoview/observer</class>
                        <method>automaticupsell</method>
                    </automatic_upsell>
                </observers>
            </catalog_product_save_before>
        </events>
    </adminhtml>
  <frontend>
        <layout>
            <updates>
                <whoalsoview>
                    <file>whoalsoview.xml</file>
                </whoalsoview>
            </updates>
        </layout>
   </frontend>
  <default>
    <who_also_view>
        <general_settings>
        <max_product_count>6</max_product_count>
        <title>Customer Who Viewed This Item Also Viewed</title>
        </general_settings>
    </who_also_view>
  </default>
</config> 